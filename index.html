<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø¬Ø¯ÙˆÙ„ Ø¨Ø·ÙˆÙ„Ø© Ø±Ù…Ø¶Ø§Ù†</title>
  <meta name="description" content="Ø¬Ø¯ÙˆÙ„ Ø¨Ø·ÙˆÙ„Ø© Ø±Ù…Ø¶Ø§Ù† - Ù…ÙˆØ§Ø¹ÙŠØ¯ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª ÙˆØ®Ø§Ù†Ø§Øª Ø§Ù„Ù†ØªØ§Ø¦Ø¬ + ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ±Ù‚" />
  <style>
    :root{
      --bg1:#070a1a;
      --bg2:#0b1b3a;
      --card:#0f234a;
      --text:#eef2ff;
      --muted:#b6c2ff;
      --gold:#ffd36a;
      --green:#47f0b3;
      --ring:rgba(255, 211, 106, .22);
      --shadow: 0 14px 50px rgba(0,0,0,.45);
      --border: rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, "Segoe UI", Tahoma, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(255,211,106,.14), transparent 60%),
        radial-gradient(900px 500px at 80% 10%, rgba(71,240,179,.12), transparent 62%),
        radial-gradient(1000px 650px at 50% 120%, rgba(124,92,255,.18), transparent 65%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      min-height:100vh;
    }
    .stars{
      position:fixed; inset:0; pointer-events:none; opacity:.55;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.35) 40%, transparent 41%),
        radial-gradient(1.5px 1.5px at 30% 70%, rgba(255,255,255,.25) 40%, transparent 41%),
        radial-gradient(1.8px 1.8px at 60% 30%, rgba(255,255,255,.28) 40%, transparent 41%),
        radial-gradient(1.2px 1.2px at 80% 55%, rgba(255,255,255,.22) 40%, transparent 41%),
        radial-gradient(1.6px 1.6px at 90% 15%, rgba(255,255,255,.20) 40%, transparent 41%);
      background-repeat:repeat;
      background-size: 420px 320px;
      filter: blur(.1px);
    }
    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 22px 14px 44px;
      position:relative;
    }
    header{
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:flex-start;
      padding: 18px 16px;
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,211,106,.10), rgba(255,211,106,.05));
      border: 1px solid rgba(255,211,106,.18);
      box-shadow: 0 10px 30px rgba(0,0,0,.20);
      backdrop-filter: blur(6px);
    }
    .title{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      line-height:1.2;
    }
    .badge{
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(71,240,179,.14);
      border: 1px solid rgba(71,240,179,.25);
      color: var(--green);
      font-weight: 700;
      font-size: 13px;
      letter-spacing:.3px;
    }
    h1{ margin:0; font-size: 22px; font-weight: 900; }
    .sub{ margin:0; color: var(--muted); font-size: 14px; }
    .controls{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 6px;
    }
    .btn{
      appearance:none;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 14px;
      font-weight: 800;
      cursor:pointer;
      transition:.18s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,.15);
    }
    .btn:hover{ transform: translateY(-1px); border-color: rgba(255,211,106,.35); box-shadow: 0 14px 40px rgba(0,0,0,.22);}
    .btn.primary{
      background: linear-gradient(180deg, rgba(255,211,106,.18), rgba(255,211,106,.08));
      border-color: rgba(255,211,106,.32);
    }
    .btn.danger{
      background: linear-gradient(180deg, rgba(255,80,110,.18), rgba(255,80,110,.07));
      border-color: rgba(255,80,110,.25);
    }

    /* Standings */
    .section{
      margin-top: 16px;
      padding: 14px;
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .section:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(450px 180px at 15% 0%, rgba(71,240,179,.12), transparent 60%),
                  radial-gradient(480px 180px at 95% 10%, rgba(255,211,106,.12), transparent 60%);
      opacity:.8;
      pointer-events:none;
    }
    .section > *{ position:relative; }
    .sectionHead{
      display:flex;
      align-items:flex-end;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .sectionHead h2{
      margin:0;
      font-size: 18px;
      font-weight: 1000;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .hint{
      margin:0;
      color: var(--muted);
      font-size: 13px;
      font-weight: 700;
    }
    .tableWrap{
      overflow:auto;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    table{
      width:100%;
      border-collapse: collapse;
      min-width: 680px;
    }
    thead th{
      position:sticky;
      top:0;
      background: rgba(15,35,74,.85);
      backdrop-filter: blur(6px);
      border-bottom: 1px solid rgba(255,255,255,.12);
      color: var(--text);
      text-align:center;
      padding: 12px 10px;
      font-weight: 1000;
      font-size: 13px;
      white-space: nowrap;
    }
    tbody td{
      text-align:center;
      padding: 10px 10px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      color: var(--text);
      font-weight: 800;
      font-size: 13px;
      white-space: nowrap;
    }
    tbody tr:hover td{
      background: rgba(255,211,106,.06);
    }
    .teamCell{
      text-align:right !important;
      font-weight: 1000;
      color: #fff;
    }
    .rank{
      font-weight: 1000;
      color: var(--gold);
    }
    .pts{
      font-weight: 1100;
      color: var(--green);
    }
    .mutedCell{
      color: var(--muted);
      font-weight: 800;
    }

    .grid{
      margin-top: 16px;
      display:grid;
      gap: 12px;
    }
    .match{
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px 14px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .match:before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(400px 140px at 20% 10%, rgba(255,211,106,.14), transparent 55%),
                  radial-gradient(380px 150px at 90% 20%, rgba(71,240,179,.10), transparent 55%);
      opacity:.75;
      pointer-events:none;
    }
    .match > *{ position:relative; }
    .rowTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .day{
      display:flex; align-items:center; gap:10px;
      font-weight: 900;
    }
    .day .moon{
      width:34px; height:34px; border-radius:12px;
      display:grid; place-items:center;
      background: rgba(255,211,106,.12);
      border:1px solid rgba(255,211,106,.25);
      box-shadow: 0 0 0 6px var(--ring);
      font-size: 16px;
    }
    .day small{
      display:block;
      margin-top:2px;
      color: var(--muted);
      font-weight: 700;
      font-size: 12px;
    }
    .idtag{
      padding:6px 10px;
      border-radius: 12px;
      background: rgba(124,92,255,.12);
      border:1px solid rgba(124,92,255,.22);
      color:#d9d4ff;
      font-weight: 800;
      font-size: 12px;
    }
    .teams{
      display:grid;
      grid-template-columns: 1fr auto 1fr;
      align-items:center;
      gap: 10px;
      margin: 8px 0 12px;
    }
    .team{
      background: rgba(15,35,74,.55);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 16px;
      padding: 12px 12px;
      font-weight: 900;
      text-align:center;
      line-height:1.25;
    }
    .vs{
      font-weight: 1000;
      color: var(--gold);
      letter-spacing:.7px;
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255,211,106,.10);
      border: 1px solid rgba(255,211,106,.20);
      white-space:nowrap;
    }
    .score{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      flex-wrap:wrap;
      padding-top: 6px;
    }
    .score label{
      color: var(--muted);
      font-weight: 800;
      font-size: 13px;
    }
    .box{
      display:flex;
      align-items:center;
      gap: 8px;
      background: rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.14);
      border-radius: 14px;
      padding: 10px 10px;
    }
    input[type="number"]{
      width: 76px;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: var(--text);
      font-weight: 900;
      font-size: 16px;
      outline:none;
    }
    input[type="number"]:focus{
      border-color: rgba(255,211,106,.40);
      box-shadow: 0 0 0 6px rgba(255,211,106,.12);
    }
    .dash{
      font-weight: 1000;
      color: var(--gold);
      font-size: 18px;
    }
    footer{
      margin-top: 18px;
      padding: 14px 12px;
      border-radius: 16px;
      border:1px dashed rgba(255,255,255,.18);
      color: var(--muted);
      text-align:center;
      background: rgba(255,255,255,.04);
    }
    @media (max-width: 560px){
      .teams{ grid-template-columns: 1fr; }
      .vs{ justify-self:center; }
      input[type="number"]{ width: 70px; }
      table{ min-width: 720px; } /* easier scroll */
    }
    @media print{
      body{ background:#fff; color:#000; }
      .stars, .controls{ display:none !important; }
      header, .match, footer, .section{
        box-shadow:none !important;
        background:#fff !important;
        border:1px solid #ddd !important;
      }
      .team, .box, input, .tableWrap{ background:#fff !important; color:#000 !important; }
      thead th{ background:#f3f3f3 !important; color:#000 !important; }
      .vs{ color:#b07a00 !important; }
    }
  </style>
</head>

<body>
  <div class="stars"></div>

  <div class="wrap">
    <header>
      <div class="title">
        <span class="badge">ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ…</span>
        <h1>Ø¬Ø¯ÙˆÙ„ Ø¨Ø·ÙˆÙ„Ø© Ø±Ù…Ø¶Ø§Ù† â€“ Ù…Ø¨Ø§Ø±ÙŠØ§Øª + Ù†ØªØ§Ø¦Ø¬ + ØªØ±ØªÙŠØ¨</h1>
      </div>
      <p class="sub">Ø§ÙƒØªØ¨ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ Ø§Ù„Ø®Ø§Ù†Ø§Øªâ€¦ Ø§Ù„ØªØ±ØªÙŠØ¨ Ø¨ÙŠØªØ­Ø¯Ù‘Ø« ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ âœ…</p>

      <div class="controls">
        <button class="btn primary" id="printBtn">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø© / PDF</button>
        <button class="btn" id="exportBtn">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (JSON)</button>
        <button class="btn danger" id="resetBtn">ğŸ§¹ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
      </div>
    </header>

    <!-- Standings -->
    <section class="section" id="standingsSection">
      <div class="sectionHead">
        <div>
          <h2>ğŸ“Š Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ±ØªÙŠØ¨</h2>
          <p class="hint">Ø§Ù„ÙÙˆØ² = 3 Ù†Ù‚Ø§Ø· â€¢ Ø§Ù„ØªØ¹Ø§Ø¯Ù„ = 1 â€¢ Ø§Ù„Ù‡Ø²ÙŠÙ…Ø© = 0</p>
        </div>
        <p class="hint" id="standingsMeta">ÙŠØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« Ù…Ø¹ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</p>
      </div>

      <div class="tableWrap">
        <table>
          <thead>
            <tr>
              <th>#</th>
              <th style="text-align:right">Ø§Ù„ÙØ±ÙŠÙ‚</th>
              <th>P</th>
              <th>W</th>
              <th>D</th>
              <th>L</th>
              <th>GF</th>
              <th>GA</th>
              <th>GD</th>
              <th>Pts</th>
            </tr>
          </thead>
          <tbody id="standingsBody">
            <!-- rows -->
          </tbody>
        </table>
      </div>
    </section>

    <main class="grid" id="matches"></main>

    <footer>
      ğŸ”¥ Ù„ÙŠØ§Ù„ÙŠ Ø±Ù…Ø¶Ø§Ù† ØºÙŠØ±â€¦ ÙƒÙˆØ±Ø© + Ø±ÙˆØ­ + Ù…Ù†Ø§ÙØ³Ø© Ø´Ø±ÙŠÙØ© ğŸ”¥âš½
    </footer>
  </div>

  <script>
    const data = [
      { day: 1,  a: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³",          b: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ" },
      { day: 2,  a: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ",                      b: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª" },
      { day: 3,  a: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø§Ù„Ø´Ø­Ø§Øª",        b: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" },
      { day: 4,  a: "Ø£ØµØ¯Ù‚Ø§Ø¡ ÙØ®Ø±Ø§Ù†ÙŠ",              b: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ" },
      { day: 5,  a: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª",       b: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³" },
      { day: 6,  a: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ",                      b: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" },
      { day: 7,  a: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø´Ø­Ø§Øª",          b: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ" },
      { day: 8,  a: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª",       b: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„ÙØ®Ø±Ø§Ù†ÙŠ" },
      { day: 9,  a: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†",                   b: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³" },
      { day: 10, a: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ",                     b: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ" },
      { day: 11, a: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø´Ø­Ø§Øª",          b: "Ø£ØµØ¯Ù‚Ø§Ø¡ ÙØ®Ø±Ø§Ù†ÙŠ" },
      { day: 12, a: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª",       b: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" },
      { day: 13, a: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³",          b: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ" },
      { day: 14, a: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ",            b: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª" },
      { day: 15, a: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„ÙØ®Ø±Ø§Ù†ÙŠ",            b: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†" },
      { day: 16, a: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ",                     b: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø§Ù„Ø´Ø­Ø§Øª" },
      { day: 17, a: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³",          b: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„ÙØ®Ø±Ø§Ù†ÙŠ" },
      { day: 18, a: "Ø§Ø¨Ùˆ Ù…Ù„Ø§Ùƒ Ù„Ù„Ù…ÙˆØªØ³ÙŠÙƒÙ„Ø§Øª",       b: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø§Ù„Ø´Ø­Ø§Øª" },
      { day: 19, a: "Ù…Ø­Ù…Ø¯ Ø­Ø³Ù†",                   b: "ÙƒØ§ÙÙŠÙ‡ Ø§ÙŠØ·Ø§Ù„ÙŠØ§Ù†Ùˆ" },
      { day: 20, a: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ø§Ù„ÙØ®Ø±Ø§Ù†ÙŠ",            b: "Ø§Ù„Ø¨ÙˆØ¯ÙŠ" },
      { day: 21, a: "Ø§ÙˆÙ„Ø§Ø¯ Ø­Ø¨ÙŠØ´ÙŠ Ù„Ù„Ø¬Ø¨Ø³",          b: "Ø£ØµØ¯Ù‚Ø§Ø¡ Ù…ØµØ·ÙÙŠ Ø§Ù„Ø´Ø­Ø§Øª" },
    ];

    const KEY = "ramadan_table_scores_v2";

    function loadScores(){
      try { return JSON.parse(localStorage.getItem(KEY) || "{}"); }
      catch { return {}; }
    }
    function saveScores(scores){
      localStorage.setItem(KEY, JSON.stringify(scores));
    }

    const scores = loadScores();
    const matchesRoot = document.getElementById("matches");
    const standingsBody = document.getElementById("standingsBody");
    const standingsMeta = document.getElementById("standingsMeta");

    function matchKey(day){ return `day_${day}`; }

    function isCompleteScore(x){
      return x !== "" && x !== null && x !== undefined && !Number.isNaN(Number(x));
    }

    function getAllTeams(){
      const set = new Set();
      data.forEach(m => { set.add(m.a); set.add(m.b); });
      return Array.from(set);
    }

    function emptyStats(){
      return { P:0, W:0, D:0, L:0, GF:0, GA:0, GD:0, Pts:0 };
    }

    function computeStandings(){
      const teams = getAllTeams();
      const table = Object.fromEntries(teams.map(t => [t, emptyStats()]));

      let playedMatches = 0;

      data.forEach(m => {
        const k = matchKey(m.day);
        const s = scores[k] || { a:"", b:"" };
        if(!isCompleteScore(s.a) || !isCompleteScore(s.b)) return;

        const ga = Number(s.a);
        const gb = Number(s.b);
        if(ga < 0 || gb < 0) return;

        playedMatches++;

        // update played
        table[m.a].P++; table[m.b].P++;
        table[m.a].GF += ga; table[m.a].GA += gb;
        table[m.b].GF += gb; table[m.b].GA += ga;

        if(ga > gb){
          table[m.a].W++; table[m.b].L++;
          table[m.a].Pts += 3;
        } else if(ga < gb){
          table[m.b].W++; table[m.a].L++;
          table[m.b].Pts += 3;
        } else {
          table[m.a].D++; table[m.b].D++;
          table[m.a].Pts += 1;
          table[m.b].Pts += 1;
        }
      });

      // compute GD
      for(const t of Object.keys(table)){
        table[t].GD = table[t].GF - table[t].GA;
      }

      // sort: Pts desc, GD desc, GF desc, name asc
      const rows = Object.entries(table).map(([team, st]) => ({ team, ...st }));
      rows.sort((x,y) => {
        if(y.Pts !== x.Pts) return y.Pts - x.Pts;
        if(y.GD !== x.GD) return y.GD - x.GD;
        if(y.GF !== x.GF) return y.GF - x.GF;
        return x.team.localeCompare(y.team, "ar");
      });

      standingsMeta.textContent = `ØªÙ… ØªØ³Ø¬ÙŠÙ„ ${playedMatches} Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ù† ${data.length}`;
      return rows;
    }

    function renderStandings(){
      const rows = computeStandings();
      standingsBody.innerHTML = "";
      rows.forEach((r, i) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="rank">${i+1}</td>
          <td class="teamCell">${r.team}</td>
          <td>${r.P}</td>
          <td>${r.W}</td>
          <td>${r.D}</td>
          <td>${r.L}</td>
          <td>${r.GF}</td>
          <td>${r.GA}</td>
          <td class="mutedCell">${r.GD}</td>
          <td class="pts">${r.Pts}</td>
        `;
        standingsBody.appendChild(tr);
      });
    }

    function renderMatches(){
      matchesRoot.innerHTML = "";
      data.forEach((m, idx) => {
        const k = matchKey(m.day);
        const s = scores[k] || { a:"", b:"" };

        const card = document.createElement("section");
        card.className = "match";
        card.innerHTML = `
          <div class="rowTop">
            <div class="day">
              <div class="moon">ğŸŒ™</div>
              <div>
                <div>${m.day} Ø±Ù…Ø¶Ø§Ù†</div>
                <small>Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù„ÙŠÙˆÙ…</small>
              </div>
            </div>
            <div class="idtag">#${String(idx+1).padStart(2,"0")}</div>
          </div>

          <div class="teams">
            <div class="team">${m.a}</div>
            <div class="vs">VS</div>
            <div class="team">${m.b}</div>
          </div>

          <div class="score">
            <label>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</label>
            <div class="box">
              <input type="number" min="0" step="1" inputmode="numeric"
                     value="${s.a}" data-day="${m.day}" data-side="a" placeholder="0" />
              <span class="dash">-</span>
              <input type="number" min="0" step="1" inputmode="numeric"
                     value="${s.b}" data-day="${m.day}" data-side="b" placeholder="0" />
            </div>
          </div>
        `;
        matchesRoot.appendChild(card);
      });
    }

    function onInput(e){
      const el = e.target;
      if(el.tagName !== "INPUT") return;

      const day = el.dataset.day;
      const side = el.dataset.side;
      const k = matchKey(day);

      scores[k] = scores[k] || {a:"", b:""};
      scores[k][side] = el.value;
      saveScores(scores);

      // Update standings live
      renderStandings();
    }

    document.addEventListener("input", onInput);

    document.getElementById("resetBtn").addEventListener("click", () => {
      if(!confirm("Ù…ØªØ£ÙƒØ¯ØŸ Ù‡ØªÙ…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„ØªØ±ØªÙŠØ¨!")) return;
      localStorage.removeItem(KEY);
      location.reload();
    });

    document.getElementById("printBtn").addEventListener("click", () => {
      window.print();
    });

    document.getElementById("exportBtn").addEventListener("click", () => {
      const blob = new Blob([JSON.stringify(scores, null, 2)], {type:"application/json"});
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "ramadan-results.json";
      a.click();
      URL.revokeObjectURL(url);
    });

    // initial
    renderMatches();
    renderStandings();
  </script>
</body>
</html>
